{"version":3,"file":"static/js/815.1a62d790.chunk.js","mappings":"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","sources":["webpack://first_app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://first_app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://first_app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from 'react';\nimport s from './Post.module.css'\n\n\nconst Post = (props) => { \n    return (\n\n        <div className={s.item}>\n            <img src='https://irecommend.ru/sites/default/files/imagecache/copyright1/user-images/2277146/r9dp4EYbWA57MnwRDJRvjg.jpg' />\n            { props.message }\n            <div>\n                <span>LIKES</span> { props.likesCount }\n            </div>\n\n        </div>\n        \n\n    );\n}\n\nexport default Post;\n","import React from 'react';\nimport s from './MyPosts.module.css'\nimport Post from './Post/Post.jsx'\nimport {Field, reduxForm} from \"redux-form\";\nimport {maxLengthCreator, required} from \"../../Util/Validator/validators\";\nimport {TextArea} from \"../../common/FormsControl/FormsControl\";\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst MyPosts = React.memo(({posts, newPostText, addPost}) => {\n\n    let AddPost = (values) => {\n        addPost(values.newPostText)\n    }\n\n    let postsElements = posts.map(p => <Post message={p.message} likesCount={p.likesCount}/>)\n    console.log('render')\n    return (\n\n        <div className={s.postsBlock}>\n            <h3>My posts</h3>\n            <ProfilePostReduxForm onSubmit={AddPost}/>\n            <div className={s.posts}>\n                {postsElements}\n            </div>\n        </div>\n    );\n});\n\nconst AddNewPostForm = (props) => {\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field\n                    validate={[required, maxLength10]}\n                    name='newPostText'\n                    component={TextArea}\n                    placeholder={'Post message'}/>\n            </div>\n            <div>\n                <button className={props.btn}>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst ProfilePostReduxForm = reduxForm({form: 'profileAddNewPostForm'})(AddNewPostForm)\n\nexport default MyPosts;\n","import React from 'react';\nimport {addPostActionCreator, } from \"../../../Redux/profileReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText,\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (profileFormBody) => {\n            dispatch(addPostActionCreator(profileFormBody))\n        },\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\n\nexport default MyPostsContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"profileInfoImg\":\"ProfileInfo_profileInfoImg__hXU0A\"};","import React, {useEffect, useState} from \"react\";\nimport s from './ProfileInfo.module.css'\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false)\n    let [status, setStatus] = useState(props.status)\n\n    useEffect( () => {\n        setStatus(props.status)\n    }, [props.status])\n\n    const activateEditMode = () => {\n        setEditMode(true)\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n    }\n\n    const onStatusChange = (event) => {\n            setStatus(event.currentTarget.value)\n    }\n\n    return (\n        <div>\n            { !editMode &&\n                <div>\n                    <span onDoubleClick={activateEditMode}>{props.status || 'No status'}</span>\n                </div>\n            }\n            { editMode &&\n                <div>\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}/>\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from \"react\";\nimport s from './ProfileInfo.module.css'\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n\n    if (!profile) {\n        return <Preloader />\n    }\n    return (\n        <div>\n            {/*<div>*/}\n            {/*    <img alt={'alt'} className={s.profileInfoImg} src='https://catherineasquithgallery.com/uploads/posts/2021-12/1639712024_333-catherineasquithgallery-com-p-fon-anime-dlya-intro-rozovii-454.jpg' />*/}\n            {/*</div>*/}\n            <div className={s.descriptionBlock}>\n                <img src={profile.photos.large} alt=\"\"/>\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n            </div>\n        </div>\n    )\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n    return (\n        <div>\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n            <MyPostsContainer />\n        </div>\n    );\n}\n\nexport default Profile;\n","import React from 'react';\nimport Profile from \"./Profile\";\nimport {connect} from \"react-redux\";\nimport {getStatus, getUserProfile, updateStatus} from \"../../Redux/profileReducer\";\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\n\n\nfunction withRouter(Component) {\n    function ComponentWithRouterProp(props) {\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{location, navigate, params}}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n        let userId = this.props.router.params.userId\n\n        if (!userId) {\n            userId = this.props.authorizedUserId\n            if (!userId) {\n                this.props.router.navigate(\"/login\")\n            }\n        }\n\n        this.props.getUserProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    render() {\n        return <div>\n            <Profile {...this.props}\n                     profile={this.props.profile}\n                     status={this.props.status}\n                     updateStatus={this.props.updateStatus}\n\n            />\n        </div>\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    isAuth: state.auth.isAuth,\n    authorizedUserId: state.auth.userId,\n})\n\nexport default compose(\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)\n\n// before compose:\n//let AuthRedirectComponent = withAuthRedirect(ProfileContainer);\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\n// export default connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent);\n","import React from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth,\n});\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth)return <Navigate to={'/login'}/>\n\n            return <Component {...this.props}/>\n        }\n    }\n\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\n}"],"names":["props","_jsxs","className","s","children","_jsx","src","message","likesCount","maxLength10","maxLengthCreator","MyPosts","React","_ref","posts","addPost","newPostText","postsElements","map","p","Post","console","log","ProfilePostReduxForm","onSubmit","values","reduxForm","form","handleSubmit","Field","validate","required","name","component","TextArea","placeholder","btn","connect","state","profilePage","dispatch","profileFormBody","addPostActionCreator","_useState","useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","onDoubleClick","onChange","event","currentTarget","value","onBlur","updateStatus","autoFocus","profile","photos","large","alt","ProfileStatusWithHooks","Preloader","ProfileInfo","MyPostsContainer","ProfileContainer","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","userId","this","router","params","authorizedUserId","navigate","getUserProfile","getStatus","Profile","_objectSpread","compose","isAuth","auth","Component","location","useLocation","useNavigate","useParams","withAuthRedirect","mapStateToPropsForRedirect","RedirectComponent","Navigate","to"],"sourceRoot":""}